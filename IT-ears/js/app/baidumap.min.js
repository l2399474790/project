function initMap(a,e){createMap(a),setMapEvent(),addMapControl(),addMapOverlay(e)}function createMap(a){map=new BMap.Map("map"),map.centerAndZoom(a,19)}function setMapEvent(){map.disableScrollWheelZoom(),map.enableKeyboard(),map.enableDragging(),map.enableDoubleClickZoom()}function addClickHandler(a,e){a.addEventListener("click",function(){a.openInfoWindow(e)})}function addMapOverlay(a){for(var e=0;e<a.length;e++){var n=new BMap.Point(a[e].position.lng,a[e].position.lat),o=new BMap.Marker(n,{icon:new BMap.Icon("http://api.map.baidu.com/lbsapi/createmap/images/icon.png",new BMap.Size(20,25),{imageOffset:new BMap.Size(a[e].imageOffset.width,a[e].imageOffset.height)})}),t=new BMap.Label(a[e].title,{offset:new BMap.Size(25,5)}),i={width:200,title:a[e].title,enableMessage:!1},p=new BMap.InfoWindow(a[e].content,i);o.setLabel(t),addClickHandler(o,p),map.addOverlay(o)}}function addMapControl(){var a=new BMap.ScaleControl({anchor:BMAP_ANCHOR_BOTTOM_LEFT});a.setUnit(BMAP_UNIT_IMPERIAL),map.addControl(a);var e=new BMap.NavigationControl({anchor:BMAP_ANCHOR_TOP_LEFT,type:0});map.addControl(e);var n=new BMap.OverviewMapControl({anchor:BMAP_ANCHOR_BOTTOM_RIGHT,isOpen:!1});map.addControl(n)}var map;